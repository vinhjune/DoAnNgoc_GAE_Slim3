function validate_comments_form(a){has_errors=0,$("#edit-name").val()==""?(has_errors=has_errors+1,alert(translate("COMMENTSFORGOTYOURNAME"))):$("#edit-mail").val()==""?(has_errors=has_errors+1,alert(translate("COMMENTSFORGOTYOUREMAIL"))):$("#edit-comment").val()==""&&(has_errors=has_errors+1,alert(translate("COMMENTSFORGOTYOURCOMMENT")));if(has_errors==0){var b="nid="+$("input#edit-nid").val()+"&edit-name="+$("form#comment-form #edit-name").val()+"&edit-mail="+$("form#comment-form #edit-mail").val()+"&edit-comment="+$("form#comment-form #edit-comment").val();$.ajax({type:"POST",url:a,data:b,success:function(a){var b="#1E3179";$("li.blog-add-comment").length!=0&&(b="#FFFFFF");var c='<h2 class="submitted">'+translate("!!COMMENTSUBMITTED!!")+'</h2><div style="color:'+b+'; margin-left:22px;">'+translate("!!COMMENTAWAITINGAPPROVAL!!")+"</div>"+'<div class="comment-icon"><!-- --></div>'+'<div class="ftr"></div>';$("li.blog-add-comment").length!=0?$("li.blog-add-comment").html(c):$("li.add-comment").html(c).siblings().hide(),$("#edit-submit").hide()}})}return!1}function translate(a,b){a=a.replace(/!!/g,"");var c=!1;if(a.match("__")){var d=a.split("__");c=d[0],a=d[1]}var e=translations[a];if(!e)return"??"+a+"??";for(var f in b){var g=new RegExp("##"+f.toUpperCase()+"##","g");e=e.replace(g,b[f])}switch(c){case"UC":e=e.toUpperCase();break;case"LC":e=e.toLowerCase();break;case"UCF":e=e.substr(0,1).toUpperCase()+e.substr(1,e.length).toLowerCase();break;case"UCW":var h=e.toLowerCase().split(" ");for(i=0;i<h.length;i++)h[i]=h[i].substr(0,1).toUpperCase()+h[i].substr(1,h[i].length);e=h.join(" ")}return e}function htmlDecode(a){return $("<div/>").html(a).text()}function htmlEncode(a){return a?$("<div/>").text(a).html():""}function getScrollElement(){var a="html, body";$("html, body").each(function(){var b=$(this).attr("scrollTop");$(this).attr("scrollTop",b+1);if($(this).attr("scrollTop")==b+1){a=this.nodeName.toLowerCase(),$(this).attr("scrollTop",b);return!1}});return a}function handleSubscribe(a,b){$("#"+b+"-loader").hide(),a.status=="success"?($("#"+b+"-success").show(),!a.p,$("#"+b+"-form").hide()):a.status=="error"&&($("#"+b+"-form").css("visibility","visible"),$("#"+b+"-name").removeClass("error"),$("#"+b+"-email").removeClass("error"),$("."+b+"-success").hide(),a.message=="name is empty"&&($("#"+b+"-name").addClass("error"),$("#"+b+"-name").attr("value",translations.PLEASEENTERYOURFIRSTNAME)),a.message=="email is empty"&&($("#"+b+"-email").addClass("error"),$("#"+b+"-email").attr("value",translations.PLEASEFILLINAVALIDEMAIL)),a.message=="email is invalid"&&($("#"+b+"-email").addClass("error"),$("#"+b+"-email").attr("value",translations.PLEASEFILLINAVALIDEMAIL),$("#"+b+"-email").select()),a.message.substring(0,16)=="Unexpected error"&&($("#"+b+"-name").addClass("error"),$("#"+b+"-name").attr("value","Unexpected error"),$("#"+b+"-email").addClass("error"),$("#"+b+"-email").attr("value","Please try again")))}function handleFooterSubscribe(a){handleSubscribe(a,"nl-signup")}function validateNLForm(a,b,c){valid=!0;if(!b||b==translations.YOUREMAIL||b==translations.PLEASEFILLINAVALIDEMAIL){var d=$("#"+a+"-email");d.addClass("error"),d.val(translations.PLEASEFILLINAVALIDEMAIL),d.select(),valid=!1}if(!c||c==translations.YOURFIRSTNAME||c==translations.PLEASEENTERYOURFIRSTNAME){var d=$("#"+a+"-name");d.addClass("error"),d.val(translations.PLEASEENTERYOURFIRSTNAME),d.select(),valid=!1}return valid}$(document).ready(function(){function d(){$("#msg").slideUp(200,function(){})}function b(a){handleSubscribe(a,"nl-index")}var a;$.fn.selectbox&&$(".selectbox").selectbox(),$.fn.superfish&&$("#main-nav").superfish(),$(".refine-mod h4").click(function(){$(this).toggleClass("closed"),$(this).next().toggle()}),$("#nl-index").click(function(){a="nl-index";var c=$("#"+a+"-email").val(),d=$("#"+a+"-name").val();validateNLForm(a,c,d)&&($("#"+a+"-form").hide(),$("#"+a+"-loader").show(),$.ajax({type:"POST",url:"/index/subscribe",data:"email="+escape(c)+"&name="+escape(d)+"&source=homepage",success:b}));return!1});var c=window.location.host.split(".");c[1]=="hostelworld"&&($(".feedback-tab").show(),$(".feedback-tab").colorbox({width:"700px",height:"656px"})),$("body").ajaxError(function(a,b,c){$("#msg").length==0&&$(this).prepend($("<div id='msg' class='error-message'>Whoops, we had an error communicating with the server.</div>").hide()),$("#msg").slideDown(200);var e=setTimeout(d,5e3);$(this).one("click",function(){clearTimeout(e),d()})}),$("#header_login_link,#header_logout_link").live("click",function(){$("#flags").is(":visible")&&$("#flags").slideUp("fast"),$("#login").slideToggle("fast");return!1}),$("#choose_language").live("click",function(){$("#login").is(":visible")&&$("#login").slideUp("fast"),$("#flags").slideToggle("fast");return!1}),$(".clearinput").focus(function(){$(this).val(""),$(this).focus(function(){$(this).select()})}),$("#login_username, #emailadr").focus(function(){($(this).val()==$("#defaultUsernameValue").val()||$(this).val()==$("#defaultEmailValue").val())&&$(this).val("")}),$("#login_username").blur(function(){$(this).val()==""&&$(this).val($("#defaultUsernameValue").val())}),$("#emailadr").blur(function(){$(this).val()==""&&$(this).val($("#defaultEmailValue").val())}),$("#nl-signup-name,#nl-index-name").focus(function(){$(this).val()=="Your first name"||$(this).val()=="Please fill your first name"?$(this).val(""):$(this).select()}),$("#nl-signup-email,#nl-index-email").focus(function(){$(this).val()=="Your email"||$(this).val()=="Please fill a valid email address"?$(this).val(""):$(this).select()}),$("#login-form a#forgot-password-link").click(function(){$("#login-form").hide(),$("#pwd-form").show();var a=$("#login_username").val(),b=$("#defaultUsernameValue").val(),c=$("#defaultEmailValue").val();a!=b&&a!=""?$("#emailadr").val(a):$("#emailadr").val(c);return!1}),$("#pwd-form a#return-to-login").click(function(){$("#pwd-form").hide(),$("#login-form").show();var a=$("#emailadr").val(),b=$("#defaultUsernameValue").val(),c=$("#defaultEmailValue").val();a!=c&&a!=""?$("#login_username").val(a):$("#login_username").val(b);return!1}),$(".terms, a.cvvcode").click(function(){$.fn.colorbox({href:$(this).attr("href"),innerWidth:690,innerHeight:570,iframe:!0});return!1}),$("a#termsandconditions").click(function(){$.fn.colorbox({href:$(this).attr("href"),innerWidth:690,innerHeight:570,iframe:!0});return!1}),$("a.faq").click(function(){$.fn.colorbox({href:$(this).attr("href"),innerWidth:980,innerHeight:570,iframe:!0});return!1}),$("a.unicef").click(function(){window.open($(this).attr("href"));return!1}),$("a.securityprivacy, a.termsandconditions").click(function(){$.fn.colorbox({href:$(this).attr("href"),innerWidth:980,innerHeight:570,iframe:!0});return!1}),$(".close-it").click(function(){$(this).parent().slideUp("fast");return!1}),$(".confirmDelete").colorbox({html:"<p>"+translate("AREYOUSUREYOUWANTTODELETE")+'</p><button id="cboxSubmit">'+translate("YES")+"</button> "+translate("LC__OR")+' <a href="#" id="cboxCancel">'+translate("CANCEL")+"</a>",overlayClose:!0,onLoad:function(){$("#cboxClose").hide()},onComplete:function(){var a=this.href;$("#cboxCancel").click(function(){$.fn.colorbox.close();return!1}),$("#cboxSubmit").click(function(){window.location=a})}}),$("#nl-signup").click(function(){a="nl-signup",email=$("#"+a+"-email").val(),name=$("#"+a+"-name").val(),validateNLForm(a,email,name)&&($("#"+a+"-form").css("visibility","hidden"),$("#"+a+"-loader").show(),$.ajax({type:"POST",url:"/index/subscribe",data:"email="+escape(email)+"&name="+escape(name)+"&source=footer",success:handleFooterSubscribe}));return!1});if(window.location.protocol=="https"||window.location.host.indexOf("vsecure")===0){var e=["en","fr","de","it","es","cs","da","nl","fi","hu","no","pl","pt","sv","zh","ko","cn","ja","lv","ru","lt","sk","sl","br","tr"];$(".countries a").click(function(){var a=$(this);$.each(e,function(b,c){if(a.hasClass(c)){$.cookie("lang",c,{path:"/",domain:HwReg.get("rootCookieDomain")});return!1}})})}$(".bnb-provided-link").colorbox({width:"550px",height:"250px",iframe:!1,html:translate("BBWBRANDSTARTADVENTURE")}),$(".mvt-testing-link").colorbox({width:"550px",height:"250px",iframe:!1,title:" ",html:'<p style="padding:10px">'+translate("MVTTESTINGTEXT")+"</p>"})}),$(function(){document.getElementById("country")||document.getElementById("siteMapPage")?$("#worldwide div").show():($("#worldwide div").each(function(){this.id!="continent_asia_div"&&$(this).hide()}),$("#worldwide h2").click(function(){$(this).toggleClass("open"),$(this).next().slideToggle("normal")}))});var HwReg=function(){var a={};return{loadRegister:function(b){a=b},get:function(b){return a[b]},set:function(b,c){a[b]=c},getAll:function(){return a}}}(),addthis_config={data_track_clickback:!0};jQuery.cookie=function(a,b,c){if(arguments.length>1&&(b===null||typeof b!="object")){c=jQuery.extend({},c),b===null&&(c.expires=-1);if(typeof c.expires=="number"){var d=c.expires,e=c.expires=new Date;e.setDate(e.getDate()+d)}return document.cookie=[encodeURIComponent(a),"=",c.raw?String(b):encodeURIComponent(String(b)),c.expires?"; expires="+c.expires.toUTCString():"",c.path?"; path="+c.path:"",c.domain?"; domain="+c.domain:"",c.secure?"; secure":""].join("")}c=b||{};var f,g=c.raw?function(a){return a}:decodeURIComponent;return(f=(new RegExp("(?:^|; )"+encodeURIComponent(a)+"=([^;]*)")).exec(document.cookie))?g(f[1]):null},function($){$.toJSON=function(a){if(typeof JSON=="object"&&JSON.stringify)return JSON.stringify(a);var b=typeof a;if(a===null)return"null";if(b=="undefined")return undefined;if(b=="number"||b=="boolean")return a+"";if(b=="string")return $.quoteString(a);if(b=="object"){if(typeof a.toJSON=="function")return $.toJSON(a.toJSON());if(a.constructor===Date){var c=a.getUTCMonth()+1;c<10&&(c="0"+c);var d=a.getUTCDate();d<10&&(d="0"+d);var e=a.getUTCFullYear(),f=a.getUTCHours();f<10&&(f="0"+f);var g=a.getUTCMinutes();g<10&&(g="0"+g);var h=a.getUTCSeconds();h<10&&(h="0"+h);var i=a.getUTCMilliseconds();i<100&&(i="0"+i),i<10&&(i="0"+i);return'"'+e+"-"+c+"-"+d+"T"+f+":"+g+":"+h+"."+i+'Z"'}if(a.constructor===Array){var j=[];for(var k=0;k<a.length;k++)j.push($.toJSON(a[k])||"null");return"["+j.join(",")+"]"}var l=[];for(var m in a){var n,b=typeof m;if(b=="number")n='"'+m+'"';else if(b=="string")n=$.quoteString(m);else continue;if(typeof a[m]=="function")continue;var o=$.toJSON(a[m]);l.push(n+":"+o)}return"{"+l.join(", ")+"}"}},$.evalJSON=function(src){if(typeof JSON=="object"&&JSON.parse)return JSON.parse(src);return eval("("+src+")")},$.secureEvalJSON=function(src){if(typeof JSON=="object"&&JSON.parse)return JSON.parse(src);var filtered=src;filtered=filtered.replace(/\\["\\\/bfnrtu]/g,"@"),filtered=filtered.replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]"),filtered=filtered.replace(/(?:^|:|,)(?:\s*\[)+/g,"");if(/^[\],:{}\s]*$/.test(filtered))return eval("("+src+")");throw new SyntaxError("Error parsing JSON, source is not valid.")},$.quoteString=function(a){if(a.match(_escapeable))return'"'+a.replace(_escapeable,function(a){var b=_meta[a];if(typeof b=="string")return b;b=a.charCodeAt();return"\\u00"+Math.floor(b/16).toString(16)+(b%16).toString(16)})+'"';return'"'+a+'"'};var _escapeable=/["\\\x00-\x1f\x7f-\x9f]/g,_meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"}}(jQuery),function(a){a.fn.superfish=function(b){var c=a.fn.superfish,d=c.c,e=a(['<span class="',d.arrowClass,'"></span>'].join("")),f=function(){var b=a(this),c=h(b);clearTimeout(c.sfTimer),b.showSuperfishUl().siblings().hideSuperfishUl()},g=function(){var b=a(this),d=h(b),e=c.op;clearTimeout(d.sfTimer),d.sfTimer=setTimeout(function(){e.retainPath=a.inArray(b[0],e.$path)>-1,b.hideSuperfishUl(),e.$path.length&&b.parents(["li.",e.hoverClass].join("")).length<1&&f.call(e.$path)},e.delay)},h=function(a){var b=a.parents(["ul.",d.menuClass,":first"].join(""))[0];c.op=c.o[b.serial];return b},i=function(a){a.addClass(d.anchorClass).append(e.clone())};return this.each(function(){var e=this.serial=c.o.length,h=a.extend({},c.defaults,b);h.$path=a("li."+h.pathClass,this).slice(0,h.pathLevels).each(function(){a(this).addClass([h.hoverClass,d.bcClass].join(" ")).filter("li:has(ul)").removeClass(h.pathClass)}),c.o[e]=c.op=h,a("li:has(ul)",this)[a.fn.hoverIntent&&!h.disableHI?"hoverIntent":"hover"](f,g).each(function(){h.autoArrows&&i(a(">a:first-child",this))}).not("."+d.bcClass).hideSuperfishUl();var j=a("a",this);j.each(function(a){var b=j.eq(a).parents("li");j.eq(a).focus(function(){f.call(b)}).blur(function(){g.call(b)})}),h.onInit.call(this)}).each(function(){var b=[d.menuClass];c.op.dropShadows&&!(a.browser.msie&&a.browser.version<7)&&b.push(d.shadowClass),a(this).addClass(b.join(" "))})};var b=a.fn.superfish;b.o=[],b.op={},b.IE7fix=function(){var c=b.op;a.browser.msie&&a.browser.version>6&&c.dropShadows&&c.animation.opacity!=undefined&&this.toggleClass(b.c.shadowClass+"-off")},b.c={bcClass:"sf-breadcrumb",menuClass:"sf-js-enabled",anchorClass:"sf-with-ul",arrowClass:"sf-sub-indicator",shadowClass:"sf-shadow"},b.defaults={hoverClass:"sfHover",pathClass:"overideThisToUse",pathLevels:1,delay:100,animation:{opacity:"show"},speed:"normal",autoArrows:!0,dropShadows:!0,disableHI:!1,onInit:function(){},onBeforeShow:function(){},onShow:function(){},onHide:function(){}},a.fn.extend({hideSuperfishUl:function(){var c=b.op,d=c.retainPath===!0?c.$path:"";c.retainPath=!1;var e=a(["li.",c.hoverClass].join(""),this).add(this).not(d).removeClass(c.hoverClass).find(">ul").hide().css("visibility","hidden");c.onHide.call(e);return this},showSuperfishUl:function(){var a=b.op,c=b.c.shadowClass+"-off",d=this.addClass(a.hoverClass).find(">ul:hidden").css("visibility","visible");b.IE7fix.call(d),a.onBeforeShow.call(d),d.animate(a.animation,a.speed,function(){b.IE7fix.call(d),a.onShow.call(d)});return this}})}(jQuery),jQuery.fn.extend({selectbox:function(a){return this.each(function(){new jQuery.SelectBox(this,a)})}});if(!window.console)var console={log:function(a){}};jQuery.SelectBox=function(selectobj,options){function getSelectOptions(parentid){var select_options=[],ul=document.createElement("ul");$select.children("option").each(function(){var li=document.createElement("li");li.setAttribute("id",parentid+"_"+$(this).val()),li.innerHTML=$(this).html(),$(this).is(":selected")&&($input.val($(this).html()),$(li).addClass(opt.currentClass)),ul.appendChild(li),$(li).mouseover(function(a){hasfocus=1,opt.debug&&console.log("over on : "+this.id),jQuery(a.target,$container).addClass(opt.hoverClass)}).mouseout(function(a){hasfocus=-1,opt.debug&&console.log("out on : "+this.id),jQuery(a.target,$container).removeClass(opt.hoverClass)}).click(function(event){var fl=$("li."+opt.hoverClass,$container).get(0);opt.debug&&console.log("click on :"+this.id),$("li."+opt.currentClass).removeClass(opt.currentClass),$(this).addClass(opt.currentClass),setCurrent(),$select.get(0).blur(),hideMe();if($change){var attr=$change;typeof attr=="function"?attr():eval(attr)}})});return ul}function getCurrentValue(){return $input.val()}function getCurrentSelected(){return $select.val()}function setCurrent(){var a=$("li."+opt.currentClass,$container).get(0),b=(""+a.id).split("_"),c=b[b.length-1];$select.val(c),$input.val($(a).html());return!0}function scroll(a,b){var c=$(a[b]).get(0),a=$container.get(0);c.offsetTop+c.offsetHeight>a.scrollTop+a.clientHeight?a.scrollTop=c.offsetTop+c.offsetHeight-a.clientHeight:c.offsetTop<a.scrollTop&&(a.scrollTop=c.offsetTop)}function moveSelect(a){var b=$("li",$container);if(!b||b.length==0)return!1;active+=a,active<0?active=b.size():active>b.size()&&(active=0),scroll(b,active),b.removeClass(opt.hoverClass),$(b[active]).addClass(opt.hoverClass)}function setupInput(a){var b=document.createElement("input"),c=$(b);c.attr("id",elm_id+"_input"),c.attr("type","text"),c.addClass(a.inputClass),c.attr("autocomplete","off"),c.attr("readonly","readonly"),c.attr("tabIndex",$select.attr("tabindex"));return c}function setupContainer(a){var b=document.createElement("div");$container=$(b),$container.attr("id",elm_id+"_container"),$container.addClass(a.containerClass);return $container}function init(){$container.append(getSelectOptions($input.attr("id"))).hide();var a=$input.css("width");$container.width(a)}function hideMe(){hasfocus=0,$container.hide()}var opt=options||{};opt.inputClass=opt.inputClass||"selectbox",opt.containerClass=opt.containerClass||"selectbox-wrapper",opt.hoverClass=opt.hoverClass||"current",opt.currentClass=opt.selectedClass||"selected",opt.debug=opt.debug||!1;var elm_id=selectobj.id,active=0,inFocus=!1,hasfocus=0,$select=$(selectobj),$container=setupContainer(opt),$input=setupInput(opt);$select.hide().before($input).before($container);if($select.attr("onchange"))var $change=$select.attr("onchange");init(),$input.click(function(){inFocus||$container.toggle()}).focus(function(){$container.not(":visible")&&(inFocus=!0,$container.show())}).keydown(function(a){switch(a.keyCode){case 38:a.preventDefault(),moveSelect(-1);break;case 40:a.preventDefault(),moveSelect(1);break;case 13:a.preventDefault(),$("li."+opt.hoverClass).trigger("click");break;case 27:hideMe()}}).blur(function(){$container.is(":visible")&&hasfocus>0?opt.debug&&console.log("container visible and has focus"):$.browser.msie||$.browser.safari?document.activeElement.getAttribute("id").indexOf("_container")==-1?hideMe():$input.focus():hideMe()})},function(a){a.fn.easySlider=function(b){var c={prevId:"prevBtn",prevText:"Previous",nextId:"nextBtn",nextText:"Next",orientation:"",speed:800},b=a.extend(c,b);return this.each(function(c,d){function k(c,d){c=="next"?i=i>=h?h:i+1:i=i<=0?0:i-1,j?(p=i*g*-1,a(d).children("ul").animate({marginTop:p},b.speed)):(p=i*f*-1,a(d).children("ul").animate({marginLeft:p},b.speed))}obj=a(this);var e=a("li",obj).length,f=obj.width(),g=obj.height(),h=e-1,i=0,j=b.orientation=="vertical";a("ul",obj).css("width",e*f),j||a("li",obj).css("float","left"),a("#"+b.prevId).hide(),a("#"+b.nextId).hide(),a("#"+b.nextId).click(function(){k("next",d),i>=h&&a(this).fadeOut(),a("#"+b.prevId).fadeIn();return!1}),a("#"+b.prevId).click(function(){k("prev",d),i<=0&&a(this).fadeOut(),a("#"+b.nextId).fadeIn();return!1}),e>1&&a("#"+b.nextId).fadeIn()})}}(jQuery),function(a){function X(c){M=c,P=a.extend({},a(M).data(b)),W(),P.rel&&P.rel!=="nofollow"?(w=a(".cboxElement").filter(function(){var c=a(this).data(b).rel||this.rel;return c===P.rel}),O=w.index(M),O<0&&(w=w.add(M),O=w.length-1)):(w=a(M),O=0),a("#prevBtn").length&&a("#prevBtn").is(":visible")&&(a("#prevBtn").hide(),S=1),Q||(Q=d,R=d,N=M,N.blur(),a(document).bind("keydown.cbox_close",function(a){a.keyCode===27&&(a.preventDefault(),f.close())}).bind("keydown.cbox_arrows",function(a){w.length>1&&(a.keyCode===37?(a.preventDefault(),G.click()):a.keyCode===39&&(a.preventDefault(),F.click()))}),P.overlayClose&&o.css({cursor:"pointer"}).one("click",f.close),a.event.trigger(i),P.onOpen&&P.onOpen.call(M),o.css({opacity:P.opacity}).show(),P.w=U(P.initialWidth,"x"),P.h=U(P.initialHeight,"y"),f.position(0),h&&x.bind("resize.cboxie6 scroll.cboxie6",function(){o.css({width:x.width(),height:x.height(),top:x.scrollTop(),left:x.scrollLeft()})}).trigger("scroll.cboxie6")),D.add(G).add(F).add(E).add(C).hide(),H.html(P.close).show(),f.slideshow(),f.load()}function W(){for(var b in P)a.isFunction(P[b])&&b.substring(0,2)!=="on"&&(P[b]=P[b].call(M));P.rel=P.rel||M.rel,P.href=P.href||M.href,P.title=P.title||M.title}function V(b){b=a.isFunction(b)?b.call(M):b;return P.photo||b.match(/\.(gif|png|jpg|jpeg|bmp)(?:\?([^#]*))?(?:#(\.*))?$/i)}function U(a,b){b=b==="x"?x.width():x.height();return typeof a=="string"?Math.round(a.match(/%/)?b/100*parseInt(a,10):parseInt(a,10)):a}var b="colorbox",c="hover",d=!0,e=!1,f,g=a.browser.msie&&!a.support.opacity,h=g&&a.browser.version<7,i="cbox_open",j="cbox_load",k="cbox_complete",l="cbox_cleanup",m="cbox_closed",n="resize.cbox_resize",o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T={transition:"elastic",speed:350,width:e,height:e,innerWidth:e,innerHeight:e,initialWidth:"400",initialHeight:"400",maxWidth:e,maxHeight:e,scalePhotos:d,scrolling:d,inline:e,html:e,iframe:e,photo:e,href:e,title:e,rel:e,opacity:.9,preloading:d,current:"image {current} of {total}",previous:"previous",next:"next",close:"close",open:e,overlayClose:d,slideshow:e,slideshowAuto:d,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",onOpen:e,onLoad:e,onComplete:e,onCleanup:e,onClosed:e};f=a.fn.colorbox=function(c,e){var f=this;if(!f.length)if(f.selector==="")f=a("<a/>"),c.open=d;else return this;f.each(function(){var d=a.extend({},a(this).data(b)?a(this).data(b):T,c);a(this).data(b,d).addClass("cboxElement"),e&&(a(this).data(b).onComplete=e)}),c&&c.open&&X(f);return this},f.init=function(){function b(b){return a('<div id="cbox'+b+'"/>')}x=a(window),p=a('<div id="colorbox"/>'),o=b("Overlay").hide(),q=b("Wrapper"),r=b("Content").append(y=b("LoadedContent").css({width:0,height:0}),A=b("LoadingOverlay"),B=b("LoadingGraphic"),C=b("Title"),D=b("Current"),E=b("Slideshow"),F=b("Next"),G=b("Previous"),H=b("Close")),q.append(a("<div/>").append(b("TopLeft"),s=b("TopCenter"),b("TopRight")),a("<div/>").append(t=b("MiddleLeft"),r,u=b("MiddleRight")),a("<div/>").append(b("BottomLeft"),v=b("BottomCenter"),b("BottomRight"))).children().children().css({"float":"left"}),z=a("<div style='position:absolute; top:0; left:0; width:9999px; height:0;'/>"),a("body").prepend(o,p.append(q,z)),g&&(p.addClass("cboxIE"),h&&o.css("position","absolute")),r.children().bind("mouseover mouseout",function(){a(this).toggleClass(c)}).addClass(c),I=s.height()+v.height()+r.outerHeight(d)-r.height(),J=t.width()+u.width()+r.outerWidth(d)-r.width(),K=y.outerHeight(d),L=y.outerWidth(d),p.css({"padding-bottom":I,"padding-right":J}).hide(),F.click(f.next),G.click(f.prev),H.click(f.close),r.children().removeClass(c),a(".cboxElement").live("click",function(a){if(a.button!==0&&typeof a.button!="undefined")return d;X(this);return e})},f.position=function(a,b){function h(a){s[0].style.width=v[0].style.width=r[0].style.width=a.style.width,B[0].style.height=A[0].style.height=r[0].style.height=t[0].style.height=u[0].style.height=a.style.height}var c,d=x.height(),f=Math.max(d-P.h-K-I,0)/2+x.scrollTop(),g=Math.max(document.documentElement.clientWidth-P.w-L-J,0)/2+x.scrollLeft();c=p.width()===P.w+L&&p.height()===P.h+K?0:a,q[0].style.width=q[0].style.height="9999px",p.dequeue().animate({width:P.w+L,height:P.h+K,top:f,left:g},{duration:c,complete:function(){h(this),R=e,q[0].style.width=P.w+L+J+"px",q[0].style.height=P.h+K+I+"px",b&&b()},step:function(){h(this)}})},f.resize=function(c){function v(b){f.position(b,function(){!Q||(g&&(o&&y.fadeIn(100),p[0].style.removeAttribute("filter")),P.iframe&&y.append("<iframe id='cboxIframe'"+(P.scrolling?" ":"scrolling='no'")+" name='iframe_"+(new Date).getTime()+"' frameborder=0 src='"+P.href+"' "+(g?"allowtransparency='true'":"")+" />"),y.show(),C.show().html(P.title),w.length>1&&(D.html(P.current.replace(/\{current\}/,O+1).replace(/\{total\}/,w.length)).show(),F.html(P.next).show(),G.html(P.previous).show(),P.slideshow&&E.show()),A.hide(),B.hide(),a.event.trigger(k),P.onComplete&&P.onComplete.call(M),P.transition==="fade"&&p.fadeTo(s,1,function(){g&&p[0].style.removeAttribute("filter")}),x.bind(n,function(){f.position(0)}))})}function u(){P.h=P.h||y.height(),P.h=P.mh&&P.mh<P.h?P.mh:P.h;return P.h}function t(){P.w=P.w||y.width(),P.w=P.mw&&P.mw<P.w?P.mw:P.w;return P.w}if(!!Q){var d,e,i,j,m,o,q,s=P.transition==="none"?0:P.speed;x.unbind(n);if(!c){q=setTimeout(function(){var a=y.wrapInner("<div style='overflow:auto'></div>").children();P.h=a.height(),y.css({height:P.h}),a.replaceWith(a.children()),f.position(s)},1);return}y.remove(),y=a('<div id="cboxLoadedContent"/>').html(c),y.hide().appendTo(z).css({width:t(),overflow:P.scrolling?"auto":"hidden"}).css({height:u()}).prependTo(r),a("#cboxPhoto").css({cssFloat:"none"}),h&&a("select:not(#colorbox select)").filter(function(){return this.style.visibility!=="hidden"}).css({visibility:"hidden"}).one(l,function(){this.style.visibility="inherit"}),!(P.transition==="fade"&&p.fadeTo(s,0,function(){v(0)})||v(s)),P.preloading&&w.length>1&&(e=O>0?w[O-1]:w[w.length-1],j=O<w.length-1?w[O+1]:w[0],m=a(j).data(b).href||j.href,i=a(e).data(b).href||e.href,V(m)&&a("<img />").attr("src",m),V(i)&&a("<img />").attr("src",i))}},f.load=function(){var c,h,i,k=f.resize;R=d,M=w[O],P=a.extend({},a(M).data(b)),W(),a.event.trigger(j),P.onLoad&&P.onLoad.call(M),P.h=P.height?U(P.height,"y")-K-I:P.innerHeight?U(P.innerHeight,"y"):e,P.w=P.width?U(P.width,"x")-L-J:P.innerWidth?U(P.innerWidth,"x"):e,P.mw=P.w,P.mh=P.h,P.maxWidth&&(P.mw=U(P.maxWidth,"x")-L-J,P.mw=P.w&&P.w<P.mw?P.w:P.mw),P.maxHeight&&(P.mh=U(P.maxHeight,"y")-K-I,P.mh=P.h&&P.h<P.mh?P.h:P.mh),c=P.href,A.show(),B.show(),P.inline?(a('<div id="cboxInlineTemp" />').hide().insertBefore(a(c)[0]).bind(j+" "+l,function(){a(this).replaceWith(y.children())}),k(a(c))):P.iframe?k(" "):P.html?k(P.html):V(c)?(h=new Image,h.onload=function(){var b;h.onload=null,h.id="cboxPhoto",a(h).css({margin:"auto",border:"none",display:"block",cssFloat:"left"}),P.scalePhotos&&(i=function(){h.height-=h.height*b,h.width-=h.width*b},P.mw&&h.width>P.mw&&(b=(h.width-P.mw)/h.width,i()),P.mh&&h.height>P.mh&&(b=(h.height-P.mh)/h.height,i())),P.h&&(h.style.marginTop=Math.max(P.h-h.height,0)/2+"px"),k(h),w.length>1&&a(h).css({cursor:"pointer"}).click(f.next),g&&(h.style.msInterpolationMode="bicubic")},h.src=c):a("<div />").appendTo(z).load(c,function(b,c){c==="success"?k(this):k(a("<p>Request unsuccessful.</p>"))})},f.next=function(){R||(O=O<w.length-1?O+1:0,f.load())},f.prev=function(){R||(O=O>0?O-1:w.length-1,f.load())},f.slideshow=function(){function g(){E.text(P.slideshowStop).bind(k,function(){d=setTimeout(f.next,P.slideshowSpeed)}).bind(j,function(){clearTimeout(d)}).one("click",function(){b(),a(this).removeClass(c)}),p.removeClass(e+"off").addClass(e+"on")}var b,d,e="cboxSlideshow_";E.bind(m,function(){E.unbind(),clearTimeout(d),p.removeClass(e+"off"+" "+e+"on")}),b=function(){clearTimeout(d),E.text(P.slideshowStart).unbind(k+" "+j).one("click",function(){g(),d=setTimeout(f.next,P.slideshowSpeed),a(this).removeClass(c)}),p.removeClass(e+"on").addClass(e+"off")},P.slideshow&&w.length>1&&(P.slideshowAuto?g():b())},f.close=function(){a.event.trigger(l),P.onCleanup&&P.onCleanup.call(M),Q=e,a(document).unbind("keydown.cbox_close keydown.cbox_arrows"),x.unbind(n+" resize.cboxie6 scroll.cboxie6"),o.css({cursor:"auto"}).fadeOut("fast"),p.stop(d,e).fadeOut("fast",function(){a("#colorbox iframe").attr("src","about:blank"),y.remove(),p.css({opacity:1});try{}catch(b){}a.event.trigger(m),P.onClosed&&P.onClosed.call(M)}),a("#prevBtn").length!=0&&S==1&&a("#prevBtn").show()},f.element=function(){return a(M)},f.settings=T,a(f.init)}(jQuery),Date.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Date.abbrDayNames=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Date.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],Date.abbrMonthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Date.firstDayOfWeek=1,Date.format="dd mmm yyyy",Date.fullYearStart="20",function(){function a(a,b){Date.prototype[a]||(Date.prototype[a]=b)}a("isLeapYear",function(){var a=this.getFullYear();return a%4==0&&a%100!=0||a%400==0}),a("isWeekend",function(){return this.getDay()==0||this.getDay()==6}),a("isWeekDay",function(){return!this.isWeekend()}),a("getDaysInMonth",function(){return[31,this.isLeapYear()?29:28,31,30,31,30,31,31,30,31,30,31][this.getMonth()]}),a("getDayName",function(a){return a?Date.abbrDayNames[this.getDay()]:Date.dayNames[this.getDay()]}),a("getMonthName",function(a){return a?Date.abbrMonthNames[this.getMonth()]:Date.monthNames[this.getMonth()]}),a("getDayOfYear",function(){var a=new Date("1/1/"+this.getFullYear());return Math.floor((this.getTime()-a.getTime())/864e5)}),a("getWeekOfYear",function(){return Math.ceil(this.getDayOfYear()/7)}),a("setDayOfYear",function(a){this.setMonth(0),this.setDate(a);return this}),a("addYears",function(a){this.setFullYear(this.getFullYear()+a);return this}),a("addMonths",function(a){var b=this.getDate();this.setMonth(this.getMonth()+a),b>this.getDate()&&this.addDays(-this.getDate());return this}),a("addDays",function(a){this.setDate(this.getDate()+parseInt(a));return this}),a("addHours",function(a){this.setHours(this.getHours()+a);return this}),a("addMinutes",function(a){this.setMinutes(this.getMinutes()+a);return this}),a("addSeconds",function(a){this.setSeconds(this.getSeconds()+a);return this}),a("zeroTime",function(){this.setMilliseconds(0),this.setSeconds(0),this.setMinutes(0),this.setHours(0);return this}),a("asString",function(a){var c=a||Date.format,d=c;c=c.split("dd").join(b(this.getDate())),c=c.split("d").join(this.getDate()),c.split("mm").length>1?(d=c.split("mmmm").join(this.getMonthName(!1)),c==d&&(d=c.split("mmm").join(this.getMonthName(!0))),c==d&&(d=c.split("mm").join(b(this.getMonth()+1))),c=d):c=c.split("m").join(this.getMonth()+1),d=c.split("yyyy").join(this.getFullYear()),d==c&&(d=c.split("yy").join((this.getFullYear()+"").substring(2))),c=d;return c}),Date.fromString=function(a){var b=Date.format,c=new Date("01/01/1970");if(!a||a=="")return c;a=a.toLowerCase();var d="",e=[],f=/(dd?d?|mm?m?|yy?yy?)+([^(m|d|y)])?/g,g;while((g=f.exec(b))!=null){switch(g[1]){case"d":case"dd":case"m":case"mm":case"yy":case"yyyy":d+="([0-9]{1,4})",e.push(g[1].substr(0,1));break;case"mmm":d+="([a-zаáàâäДдвьсčéèêěëеğнììííîiкмпйИилрЯяŞşобôóöФфřгтúùûźю]{3,4})",e.push("M")}g[2]&&(d+=g[2])}var h=new RegExp(d),i=a.match(h);if(i){var j,k,l;for(var m=0;m<e.length;m++){var n=i[m+1];switch(e[m]){case"d":l=n;break;case"m":k=Number(n)-1;break;case"M":for(var o=0;o<Date.abbrMonthNames.length;o++)if(Date.abbrMonthNames[o].toLowerCase()==n)break;k=o;break;case"y":j=n}}j&&c.setYear(j),k&&c.setMonth(k),l&&c.setDate(l)}return c};var b=function(a){var b="0"+a;return b.substring(b.length-2)}}(),function(a){function d(b){if(b._dpId)return a.event._dpCache[b._dpId];return!1}function c(a){this.ele=a,this.displayedMonth=null,this.displayedYear=null,this.startDate=null,this.endDate=null,this.showYearNavigation=null,this.closeOnSelect=null,this.displayClose=null,this.rememberViewedMonth=null,this.selectMultiple=null,this.numSelectable=null,this.numSelected=null,this.verticalPosition=null,this.horizontalPosition=null,this.verticalOffset=null,this.horizontalOffset=null,this.button=null,this.renderCallback=[],this.selectedDates={},this.inline=null,this.context="#dp-popup",this.settings={}}a.fn.extend({renderCalendar:function(b){var c=function(a){return document.createElement(a)};b=a.extend({},a.fn.datePicker.defaults,b);if(b.showHeader!=a.dpConst.SHOW_HEADER_NONE){var d=a(c("tr"));for(var e=Date.firstDayOfWeek;e<Date.firstDayOfWeek+7;e++){var f=e%7,g=Date.dayNames[f];d.append(jQuery(c("th")).attr({scope:"col",abbr:g,title:g,"class":f==0||f==6?"weekend":"weekday"}).html(b.showHeader==a.dpConst.SHOW_HEADER_SHORT?g.substr(0,1):g))}}var h=a(c("table")).attr({cellspacing:2}).addClass("jCalendar").append(b.showHeader!=a.dpConst.SHOW_HEADER_NONE?a(c("thead")).append(d):c("thead")),i=a(c("tbody")),j=(new Date).zeroTime();j.setHours(12);var k=b.month==undefined?j.getMonth():b.month,l=b.year||j.getFullYear(),m=new Date(l,k,1,12,0,0),n=Date.firstDayOfWeek-m.getDay()+1;n>1&&(n-=7);var o=Math.ceil((-1*n+1+m.getDaysInMonth())/7);m.addDays(n-1);var p=function(c){return function(){if(b.hoverClass){var d=a(this);b.selectWeek?c&&!d.is(".disabled")&&d.parent().addClass("activeWeekHover"):d.addClass(b.hoverClass)}}},q=function(){if(b.hoverClass){var c=a(this);c.removeClass(b.hoverClass),c.parent().removeClass("activeWeekHover")}},r=0;while(r++<o){var s=jQuery(c("tr")),t=b.dpController?m>b.dpController.startDate:!1;for(var e=0;e<7;e++){var u=m.getMonth()==k,v=a(c("td")).text(m.getDate()+"").addClass((u?"current-month ":"other-month ")+(m.isWeekend()?"weekend ":"weekday ")+(u&&m.getTime()==j.getTime()?"today ":"")).data("datePickerDate",m.asString()).hover(p(t),q);s.append(v),b.renderCallback&&b.renderCallback(v,m,k,l),m=new Date(m.getFullYear(),m.getMonth(),m.getDate()+1,12,0,0)}i.append(s)}h.append(i);return this.each(function(){a(this).empty().append(h)})},datePicker:function(b){a.event._dpCache||(a.event._dpCache=[]),b=a.extend({},a.fn.datePicker.defaults,b);return this.each(function(){var d=a(this),e=!0;this._dpId||(this._dpId=a.event.guid++,a.event._dpCache[this._dpId]=new c(this),e=!1),b.inline&&(b.createButton=!1,b.displayClose=!1,b.closeOnSelect=!1,d.empty());var f=
a.event._dpCache[this._dpId];f.init(b),!e&&b.createButton&&(f.button=a('<a href="#" class="dp-choose-date" title="'+a.dpText.TEXT_CHOOSE_DATE+'">'+a.dpText.TEXT_CHOOSE_DATE+"</a>").bind("click",function(){d.dpDisplay(this),this.blur();return!1}),d.after(f.button));if(!e&&d.is(":text")){d.bind("dateSelected",function(a,b,c){this.value=b.asString()}).bind("change",function(){if(this.value=="")f.clearSelected();else{var a=Date.fromString(this.value);a&&f.setSelected(a,!0,!0)}}),b.clickInput&&d.bind("click",function(){d.trigger("change"),d.dpDisplay()}),Date.dayNames=HwReg.get("dayNames"),Date.abbrDayNames=HwReg.get("abbrDayNames"),Date.monthNames=HwReg.get("monthNames"),Date.abbrMonthNames=HwReg.get("abbrMonthNames");var g=Date.fromString(this.value);this.value!=""&&g&&f.setSelected(g,!0,!0)}d.addClass("dp-applied")})},dpSetDisabled:function(a){return b.call(this,"setDisabled",a)},dpSetStartDate:function(a){return b.call(this,"setStartDate",a)},dpSetEndDate:function(a){return b.call(this,"setEndDate",a)},dpGetSelected:function(){var a=d(this[0]);if(a)return a.getSelected();return null},dpSetSelected:function(a,c,d,e){c==undefined&&(c=!0),d==undefined&&(d=!0),e==undefined&&(e=!0);return b.call(this,"setSelected",Date.fromString(a),c,d,e)},dpSetDisplayedMonth:function(a,c){return b.call(this,"setDisplayedMonth",Number(a),Number(c),!0)},dpDisplay:function(a){return b.call(this,"display",a)},dpSetRenderCallback:function(a){return b.call(this,"setRenderCallback",a)},dpSetPosition:function(a,c){return b.call(this,"setPosition",a,c)},dpSetOffset:function(a,c){return b.call(this,"setOffset",a,c)},dpClose:function(){return b.call(this,"_closeCalendar",!1,this[0])},dpRerenderCalendar:function(){return b.call(this,"_rerenderCalendar")},_dpDestroy:function(){}});var b=function(a,b,c,e,f){return this.each(function(){var g=d(this);g&&g[a](b,c,e,f)})};a.extend(c.prototype,{init:function(a){this.setStartDate(a.startDate),this.setEndDate(a.endDate),this.setDisplayedMonth(Number(a.month),Number(a.year)),this.setRenderCallback(a.renderCallback),this.showYearNavigation=a.showYearNavigation,this.closeOnSelect=a.closeOnSelect,this.displayClose=a.displayClose,this.rememberViewedMonth=a.rememberViewedMonth,this.selectMultiple=a.selectMultiple,this.numSelectable=a.selectMultiple?a.numSelectable:1,this.numSelected=0,this.verticalPosition=a.verticalPosition,this.horizontalPosition=a.horizontalPosition,this.hoverClass=a.hoverClass,this.setOffset(a.verticalOffset,a.horizontalOffset),this.inline=a.inline,this.settings=a,this.inline&&(this.context=this.ele,this.display())},setStartDate:function(a){a&&(this.startDate=Date.fromString(a)),this.startDate||(this.startDate=(new Date).zeroTime()),this.setDisplayedMonth(this.displayedMonth,this.displayedYear)},setEndDate:function(a){a&&(this.endDate=Date.fromString(a)),this.endDate||(this.endDate=new Date("12/31/2999")),this.endDate.getTime()<this.startDate.getTime()&&(this.endDate=this.startDate),this.setDisplayedMonth(this.displayedMonth,this.displayedYear)},setPosition:function(a,b){this.verticalPosition=a,this.horizontalPosition=b},setOffset:function(a,b){this.verticalOffset=parseInt(a)||0,this.horizontalOffset=parseInt(b)||0},setDisabled:function(b){$e=a(this.ele),$e[b?"addClass":"removeClass"]("dp-disabled"),this.button&&($but=a(this.button),$but[b?"addClass":"removeClass"]("dp-disabled"),$but.attr("title",b?"":a.dpText.TEXT_CHOOSE_DATE)),$e.is(":text")&&$e.attr("disabled",b?"disabled":"")},setDisplayedMonth:function(b,c,d){if(this.startDate!=undefined&&this.endDate!=undefined){var e=new Date(this.startDate.getTime());e.setDate(1);var f=new Date(this.endDate.getTime());f.setDate(1);var g;!b&&!c||isNaN(b)&&isNaN(c)?(g=(new Date).zeroTime(),g.setDate(1)):isNaN(b)?g=new Date(c,this.displayedMonth,1):isNaN(c)?g=new Date(this.displayedYear,b,1):g=new Date(c,b,1),g.getTime()<e.getTime()?g=e:g.getTime()>f.getTime()&&(g=f);var h=this.displayedMonth,i=this.displayedYear;this.displayedMonth=g.getMonth(),this.displayedYear=g.getFullYear(),d&&(this.displayedMonth!=h||this.displayedYear!=i)&&(this._rerenderCalendar(),a(this.ele).trigger("dpMonthChanged",[this.displayedMonth,this.displayedYear]))}},setSelected:function(b,c,d,e){if(!(b<this.startDate||b.zeroTime()>this.endDate.zeroTime())){var f=this.settings;if(f.selectWeek){b=b.addDays(-(b.getDay()-Date.firstDayOfWeek+7)%7);if(b<this.startDate)return}if(c==this.isSelected(b))return;if(this.selectMultiple==!1)this.clearSelected();else if(c&&this.numSelected==this.numSelectable)return;d&&(this.displayedMonth!=b.getMonth()||this.displayedYear!=b.getFullYear())&&this.setDisplayedMonth(b.getMonth(),b.getFullYear(),!0),this.selectedDates[b.asString()]=c,this.numSelected+=c?1:-1;var g="td."+(b.getMonth()==this.displayedMonth?"current-month":"other-month"),h;a(g,this.context).each(function(){a(this).data("datePickerDate")==b.asString()&&(h=a(this),f.selectWeek&&h.parent()[c?"addClass":"removeClass"]("selectedWeek"),h[c?"addClass":"removeClass"]("selected"))}),a("td",this.context).not(".selected")[this.selectMultiple&&this.numSelected==this.numSelectable?"addClass":"removeClass"]("unselectable");if(e){var f=this.isSelected(b);$e=a(this.ele);var i=Date.fromString(b.asString());$e.trigger("dateSelected",[i,h,f]),$e.trigger("change")}}},isSelected:function(a){return this.selectedDates[a.asString()]},getSelected:function(){var a=[];for(var b in this.selectedDates)this.selectedDates[b]==!0&&a.push(Date.fromString(b));return a},clearSelected:function(){this.selectedDates={},this.numSelected=0,a("td.selected",this.context).removeClass("selected").parent().removeClass("selectedWeek")},display:function(b){if(!a(this.ele).is(".dp-disabled")){b=b||this.ele;var c=this,d=a(b),e=d.offset(),f,g,h,i;if(c.inline)f=a(this.ele),g={id:"calendar-"+this.ele._dpId,"class":"dp-popup dp-popup-inline"},a(".dp-popup",f).remove(),i={};else{f=a("body"),g={id:"dp-popup","class":"dp-popup"},i={top:e.top+c.verticalOffset,left:e.left+c.horizontalOffset};var j=function(b){var d=b.target,e=a("#dp-popup")[0];for(;;){if(d==e)return!0;if(d==document){c._closeCalendar();return!1}d=a(d).parent()[0]}};this._checkMouse=j,c._closeCalendar(!0),a(document).bind("keydown.datepicker",function(a){a.keyCode==27&&c._closeCalendar()})}if(!c.rememberViewedMonth){var k=this.getSelected()[0];k&&(k=new Date(k),this.setDisplayedMonth(k.getMonth(),k.getFullYear(),!1))}f.append(a("<div></div>").attr(g).css(i).append(a("<h2></h2>"),a('<div class="dp-nav-prev"></div>').append(a('<a class="dp-nav-prev-month" href="#" title="'+translate(a.dpText.TEXT_PREV_MONTH)+'">&laquo;</a>').bind("click",function(){return c._displayNewMonth.call(c,this,-1,0)})),a('<div class="dp-nav-next"></div>').append(a('<a class="dp-nav-next-month" href="#" title="'+translate(a.dpText.TEXT_NEXT_MONTH)+'">&raquo;</a>').bind("click",function(){return c._displayNewMonth.call(c,this,1,0)})),a('<div class="dp-calendar"></div>')).bgIframe());var l=this.inline?a(".dp-popup",this.context):a("#dp-popup");this.showYearNavigation==!1&&a(".dp-nav-prev-year, .dp-nav-next-year",c.context).css("display","none"),this.displayClose&&l.append(a('<a href="#" id="dp-close">'+a.dpText.TEXT_CLOSE+"</a>").bind("click",function(){c._closeCalendar();return!1})),c._renderCalendar(),a(this.ele).trigger("dpDisplayed",l),c.inline||(this.verticalPosition==a.dpConst.POS_BOTTOM&&l.css("top",e.top+d.height()-l.height()+c.verticalOffset),this.horizontalPosition==a.dpConst.POS_RIGHT&&l.css("left",e.left+d.width()-l.width()+c.horizontalOffset),a(document).bind("mousedown.datepicker",this._checkMouse))}},setRenderCallback:function(a){a!=null&&(a&&typeof a=="function"&&(a=[a]),this.renderCallback=this.renderCallback.concat(a))},cellRender:function(b,c,d,e){var f=this.dpController,g=new Date(c.getTime());b.bind("click",function(){var b=a(this);if(!b.is(".disabled")){f.setSelected(g,!b.is(".selected")||!f.selectMultiple,!1,!0);if(f.closeOnSelect){if(f.settings.autoFocusNextInput){var c=f.ele,d=!1;a(":input",c.form).each(function(){if(d){a(this).focus();return!1}this==c&&(d=!0)})}else f.ele.focus();f._closeCalendar()}}}),f.isSelected(g)?(b.addClass("selected"),f.settings.selectWeek&&b.parent().addClass("selectedWeek")):f.selectMultiple&&f.numSelected==f.numSelectable&&b.addClass("unselectable")},_applyRenderCallbacks:function(){var b=this;a("td",this.context).each(function(){for(var c=0;c<b.renderCallback.length;c++)$td=a(this),b.renderCallback[c].apply(this,[$td,Date.fromString($td.data("datePickerDate")),b.displayedMonth,b.displayedYear])});return},_displayNewMonth:function(b,c,d){a(b).is(".disabled")||this.setDisplayedMonth(this.displayedMonth+c,this.displayedYear+d,!0),b.blur();return!1},_rerenderCalendar:function(){this._clearCalendar(),this._renderCalendar()},_renderCalendar:function(){a("h2",this.context).html((new Date(this.displayedYear,this.displayedMonth,1)).asString(a.dpText.HEADER_FORMAT)),a(".dp-calendar",this.context).renderCalendar(a.extend({},this.settings,{month:this.displayedMonth,year:this.displayedYear,renderCallback:this.cellRender,dpController:this,hoverClass:this.hoverClass}));if(this.displayedYear==this.startDate.getFullYear()&&this.displayedMonth==this.startDate.getMonth()){a(".dp-nav-prev-year",this.context).addClass("disabled"),a(".dp-nav-prev-month",this.context).addClass("disabled"),a(".dp-calendar td.other-month",this.context).each(function(){var b=a(this);Number(b.text())>20&&b.addClass("disabled")});var b=this.startDate.getDate();a(".dp-calendar td.current-month",this.context).each(function(){var c=a(this);Number(c.text())<b&&c.addClass("disabled")})}else{a(".dp-nav-prev-year",this.context).removeClass("disabled"),a(".dp-nav-prev-month",this.context).removeClass("disabled");var b=this.startDate.getDate();if(b>20){var c=this.startDate.getTime(),d=new Date(c);d.addMonths(1),this.displayedYear==d.getFullYear()&&this.displayedMonth==d.getMonth()&&a(".dp-calendar td.other-month",this.context).each(function(){var b=a(this);Date.fromString(b.data("datePickerDate")).getTime()<c&&b.addClass("disabled")})}}if(this.displayedYear==this.endDate.getFullYear()&&this.displayedMonth==this.endDate.getMonth()){a(".dp-nav-next-year",this.context).addClass("disabled"),a(".dp-nav-next-month",this.context).addClass("disabled"),a(".dp-calendar td.other-month",this.context).each(function(){var b=a(this);Number(b.text())<14&&b.addClass("disabled")});var b=this.endDate.getDate();a(".dp-calendar td.current-month",this.context).each(function(){var c=a(this);Number(c.text())>b&&c.addClass("disabled")})}else{a(".dp-nav-next-year",this.context).removeClass("disabled"),a(".dp-nav-next-month",this.context).removeClass("disabled");var b=this.endDate.getDate();if(b<13){var e=new Date(this.endDate.getTime());e.addMonths(-1),this.displayedYear==e.getFullYear()&&this.displayedMonth==e.getMonth()&&a(".dp-calendar td.other-month",this.context).each(function(){var c=a(this),d=Number(c.text());d<13&&d>b&&c.addClass("disabled")})}}this._applyRenderCallbacks()},_closeCalendar:function(b,c){if(!c||c==this.ele)a(document).unbind("mousedown.datepicker"),a(document).unbind("keydown.datepicker"),this._clearCalendar(),a("#dp-popup a").unbind(),a("#dp-popup").empty().remove(),b||a(this.ele).trigger("dpClosed",[this.getSelected()])},_clearCalendar:function(){a(".dp-calendar td",this.context).unbind(),a(".dp-calendar",this.context).empty()}}),a.dpConst={SHOW_HEADER_NONE:0,SHOW_HEADER_SHORT:1,SHOW_HEADER_LONG:2,POS_TOP:0,POS_BOTTOM:1,POS_LEFT:0,POS_RIGHT:1,DP_INTERNAL_FOCUS:"dpInternalFocusTrigger"},a.dpText={TEXT_PREV_YEAR:"Previous year",TEXT_PREV_MONTH:"PREVMONTH",TEXT_NEXT_YEAR:"Next year",TEXT_NEXT_MONTH:"NEXTMONTH",TEXT_CLOSE:"Close",TEXT_CHOOSE_DATE:"Choose date",HEADER_FORMAT:"mmmm yyyy"},a.dpVersion="$Id: jquery.datePicker.js 102 2010-09-13 14:00:54Z kelvin.luck $",a.fn.datePicker.defaults={month:undefined,year:undefined,showHeader:a.dpConst.SHOW_HEADER_SHORT,startDate:undefined,endDate:undefined,inline:!1,renderCallback:null,createButton:!0,showYearNavigation:!0,closeOnSelect:!0,displayClose:!1,selectMultiple:!1,numSelectable:Number.MAX_VALUE,clickInput:!1,rememberViewedMonth:!0,selectWeek:!1,verticalPosition:a.dpConst.POS_TOP,horizontalPosition:a.dpConst.POS_LEFT,verticalOffset:0,horizontalOffset:0,hoverClass:"dp-hover",autoFocusNextInput:!1},a.fn.bgIframe==undefined&&(a.fn.bgIframe=function(){return this}),a(window).bind("unload",function(){var b=a.event._dpCache||[];for(var c in b)a(b[c].ele)._dpDestroy()})}(jQuery),jQuery.autocomplete=function(a,b){function L(a,c){if(b.enableCaching!==1)return null;!c||!a||!b.cacheLength||(!k.length||k.length>b.cacheLength?(o(),k.length++):k[a]||k.length++,k.data[a]=c)}function K(a,c){c&&e.removeClass(b.loadingClass);var d=c?c.length:0,f=null;for(var g=0;g<d;g++){var h=c[g];if(h[0].toLowerCase()==a.toLowerCase()){f=document.createElement("li"),b.formatItem?(f.innerHTML=b.formatItem(h,g,d),f.selectValue=h[0]):(f.innerHTML=h[0],f.selectValue=h[0]);var i=null;if(h.length>1){i=[];for(var j=1;j<h.length;j++)i[i.length]=h[j]}f.extra=i}}b.onFindValue&&setTimeout(function(){b.onFindValue(f)},1)}function J(a,c){b.matchCase||(a=a.toLowerCase());var d=a.indexOf(c);if(d==-1)return!1;return d==0||b.matchContains}function I(a){if(b.enableCaching!==1)return null;if(!a)return null;if(k.data[a])return k.data[a];if(b.matchSubset)for(var c=a.length-1;c>=b.minChars;c--){var d=a.substr(0,c),e=k.data[d];if(e){var f=[];for(var g=0;g<e.length;g++){var h=e[g],i=h[0];J(i,a)&&(f[f.length]=h)}return f}}return null}function H(a){var c=b.url+"?"+b.getParamName+"="+encodeURIComponent(a);for(var d in b.extraParams)c+="&"+d+"="+encodeURIComponent(b.extraParams[d]);return c}function G(a){b.matchCase||(a=a.toLowerCase());var c=b.cacheLength?I(a):null;c?D(a,c):typeof b.url=="string"&&b.url.length>0?$.get(H(a),function(b){b=E(b),L(a,b),D(a,b)}):e.removeClass(b.loadingClass)}function F(a){var c=document.createElement("ul"),d=a.length;b.maxItemsToShow>0&&b.maxItemsToShow<d&&(d=b.maxItemsToShow);for(var e=0;e<d;e++){var f=a[e];if(!f)continue;var g=document.createElement("li");b.formatItem?(g.innerHTML=b.formatItem(f,e,d),g.selectValue=f[0]):(g.innerHTML=f[0],g.selectValue=f[0]);var h=null;if(f.length>1){h=[];for(var i=1;i<f.length;i++)h[h.length]=f[i]}g.extra=h,c.appendChild(g);var k=g.innerHTML.toString();k.indexOf("<")==-1?$(g).hover(function(){$("li",c).removeClass("ac_over"),$(this).addClass("ac_over"),j=$("li",c).indexOf($(this).get(0))},function(){$(this).removeClass("ac_over")}).click(function(a){a.preventDefault(),a.stopPropagation(),x(this)}):$(g).unbind()}return c}function E(a){if(!a)return null;var c=[],d=a.split(b.lineSeparator);for(var e=0;e<d.length;e++){var f=$.trim(d[e]);f&&(c[c.length]=f.split(b.cellSeparator))}return c}function D(a,d){if(d){e.removeClass(b.loadingClass),f.innerHTML="";if(!m||d.length==0)return C();$.browser.msie&&g.append(document.createElement("iframe")),f.appendChild(F(d)),b.autoFill&&e.val().toLowerCase()==a.toLowerCase()&&z(d[0][0]),c=!0,A()}else c=!1,C()}function C(){h&&clearTimeout(h),e.removeClass(b.loadingClass),g.is(":visible")&&g.hide();if(b.mustMatch){var c=e.val();c!=a.lastSelected&&x(null)}}function B(){h&&clearTimeout(h),h=setTimeout(C,200)}function A(){var c=$(a).offset(),d=b.width>0?b.width:e.width();g.css({width:parseInt(d)+"px",top:c.top+a.offsetHeight+"px",left:c.left+"px"}).show()}function z(a){n!=8&&(e.val(e.val()+a.substring(i.length)),y(i.length,a.length))}function y(a,b){var c=e.get(0);if(c.createTextRange){var d=c.createTextRange();d.collapse(!0),d.moveStart("character",a),d.moveEnd("character",b),d.select()}else c.setSelectionRange?c.setSelectionRange(a,b):c.selectionStart&&(c.selectionStart=a,c.selectionEnd=b);c.focus()}function x(c){c||(c=document.createElement("li"),c.extra=[],c.selectValue="");var d=$.trim(c.selectValue?c.selectValue:c.innerHTML);a.lastSelected=d,i=d,g.html(""),e.val(d),C(),b.onItemSelect&&setTimeout(function(){b.onItemSelect(c)},1)}function w(){var a=$("li.ac_over",f)[0];if(!a){var c=$("li",f);b.selectOnly?c.length==1&&(a=c[0]):b.selectFirst&&(a=c[0])}if(a){x(a);return!0}return!1}function v(a){var b=$("li",f);if(!!b){j+=a,j<0?j=0:j>=b.size()&&(j=b.size()-1);var c=$(b[j]).html().toString();c.indexOf("<")!=-1?(j+=a,j<1?j=1:j>=b.size()&&(j=b.size()-2)):$(b).unbind(),b.removeClass("ac_over"),$(b[j]).addClass("ac_over")}}function u(){if(n==46||n>8&&n<32)return g.hide();var a=e.val();a!=i&&(i=a,a.length>=b.minChars?(e.addClass(b.loadingClass),G(a)):(e.removeClass(b.loadingClass),g.hide()))}function o(){k={},k.data={},k.length=0}var c=!1,d=this,e=$(a).attr("autocomplete","off");b.inputClass&&e.addClass(b.inputClass);var f=document.createElement("div"),g=$(f);g.hide().addClass(b.resultsClass).css("position","absolute"),b.width>0&&g.css("width",b.width),$("body").append(f),a.autocompleter=d;var h=null,i="",j=-1,k={},l=!1,m=!1,n=null;o();if(b.data!=null){var p="",q={},r=[];typeof b.url!="string"&&(b.cacheLength=1);for(var s=0;s<b.data.length;s++)r=typeof b.data[s]=="string"?[b.data[s]]:b.data[s],r[0].length>0&&(p=r[0].substring(0,1).toLowerCase(),q[p]||(q[p]=[]),q[p].push(r));for(var t in q)b.cacheLength++,L(t,q[t])}e.keydown(function(a){n=a.keyCode;switch(a.keyCode){case 38:a.preventDefault(),v(-1);break;case 40:a.preventDefault(),v(1);break;case 9:case 13:w()&&(e.get(0).blur(),a.preventDefault());break;default:j=-1,h&&clearTimeout(h),h=setTimeout(function(){u()},b.delay)}}).focus(function(){m=!0}).blur(function(){m=!1,B()}),$(window).resize(function(){c&&A()}),C(),this.flushCache=function(){o()},this.setExtraParams=function(a){b.extraParams=a},this.findValue=function(){var a=e.val();b.matchCase||(a=a.toLowerCase());var c=b.cacheLength?I(a):null;c?K(a,c):typeof b.url=="string"&&b.url.length>0?$.get(H(a),function(b){b=E(b),L(a,b),K(a,b)}):K(a,null)}},jQuery.fn.autocomplete=function(a,b,c){b=b||{},b.url=a,b.data=typeof c=="object"&&c.constructor==Array?c:null,b.inputClass=b.inputClass||"ac_input",b.resultsClass=b.resultsClass||"ac_results",b.lineSeparator=b.lineSeparator||"\n",b.cellSeparator=b.cellSeparator||"|",b.minChars=b.minChars||1,b.delay=b.delay||400,b.matchCase=b.matchCase||0,b.matchSubset=b.matchSubset||1,b.matchContains=b.matchContains||0,b.cacheLength=b.cacheLength||1,b.mustMatch=b.mustMatch||0,b.extraParams=b.extraParams||{},b.loadingClass=b.loadingClass||"ac_loading",b.selectFirst=b.selectFirst||!1,b.selectOnly=b.selectOnly||!1,b.maxItemsToShow=b.maxItemsToShow||-1,b.autoFill=b.autoFill||!1,b.width=parseInt(b.width,10)||0,b.getParamName=b.getParamName||"q",b.enableCaching=b.enableCaching||0,this.each(function(){var a=this;new jQuery.autocomplete(a,b)});return this},jQuery.fn.autocompleteArray=function(a,b){return this.autocomplete(null,b,a)},jQuery.fn.indexOf=function(a){for(var b=0;b<this.length;b++)if(this[b]==a)return b;return-1}